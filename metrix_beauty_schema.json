{
  "tableName": "metrix_beauty",
  "description": "Metrix Beauty Panel ì˜ˆì•½ ê´€ë¦¬ í…Œì´ë¸”",
  "primaryField": "Name",
  "fields": [
    {
      "fieldName": "ID",
      "type": "autonumber",
      "description": "ìë™ ì¦ê°€ ê³ ìœ  ë²ˆí˜¸",
      "required": true,
      "options": {
        "prefix": "MX"
      }
    },
    {
      "fieldName": "Name",
      "type": "singleLineText",
      "description": "ì˜ˆì•½ì ì´ë¦„",
      "required": true,
      "validation": {
        "maxLength": 100
      }
    },
    {
      "fieldName": "Email",
      "type": "email",
      "description": "ì´ë©”ì¼ ì£¼ì†Œ (ê³ ìœ  ì‹ë³„ì)",
      "required": true,
      "unique": true
    },
    {
      "fieldName": "Phone",
      "type": "phoneNumber",
      "description": "ì „í™”ë²ˆí˜¸",
      "required": true,
      "format": "KR"
    },
    {
      "fieldName": "Gender",
      "type": "singleSelect",
      "description": "ì„±ë³„",
      "required": false,
      "options": [
        {"name": "ë‚¨ì„±", "color": "blue"},
        {"name": "ì—¬ì„±", "color": "pink"},
        {"name": "ê¸°íƒ€", "color": "gray"},
        {"name": "ì‘ë‹µê±°ë¶€", "color": "lightGray"}
      ]
    },
    {
      "fieldName": "Birth_Date",
      "type": "date",
      "description": "ìƒë…„ì›”ì¼",
      "required": false,
      "dateFormat": {
        "format": "YYYY-MM-DD"
      }
    },
    {
      "fieldName": "Age_Group",
      "type": "formula",
      "description": "ì—°ë ¹ëŒ€ ìë™ ê³„ì‚°",
      "formula": "IF(Birth_Date, IF(DATETIME_DIFF(TODAY(), Birth_Date, 'years') < 20, '10ëŒ€', IF(DATETIME_DIFF(TODAY(), Birth_Date, 'years') < 30, '20ëŒ€', IF(DATETIME_DIFF(TODAY(), Birth_Date, 'years') < 40, '30ëŒ€', IF(DATETIME_DIFF(TODAY(), Birth_Date, 'years') < 50, '40ëŒ€', '50ëŒ€ ì´ìƒ')))), '')"
    },
    {
      "fieldName": "Nationality",
      "type": "singleLineText",
      "description": "êµ­ì ",
      "required": false,
      "validation": {
        "maxLength": 50
      }
    },
    {
      "fieldName": "Culture",
      "type": "singleLineText",
      "description": "ë¬¸í™”ê¶Œ",
      "required": false
    },
    {
      "fieldName": "Race",
      "type": "multipleSelects",
      "description": "ì¸ì¢… (ë³µìˆ˜ ì„ íƒ ê°€ëŠ¥)",
      "required": false,
      "options": [
        {"name": "Asian", "color": "yellow"},
        {"name": "Caucasian", "color": "orange"},
        {"name": "African", "color": "brown"},
        {"name": "Hispanic", "color": "red"},
        {"name": "Middle Eastern", "color": "purple"},
        {"name": "Other", "color": "gray"}
      ]
    },
    {
      "fieldName": "Reservation_Date",
      "type": "date",
      "description": "ì˜ˆì•½ ë‚ ì§œ",
      "required": false,
      "dateFormat": {
        "format": "YYYY-MM-DD",
        "includeTime": false
      }
    },
    {
      "fieldName": "Reservation_Time",
      "type": "singleSelect",
      "description": "ì˜ˆì•½ ì‹œê°„",
      "required": false,
      "options": [
        {"name": "10:00", "color": "blue1"},
        {"name": "10:30", "color": "blue2"},
        {"name": "11:00", "color": "blue3"},
        {"name": "11:30", "color": "cyan1"},
        {"name": "12:00", "color": "cyan2"},
        {"name": "12:30", "color": "cyan3"},
        {"name": "13:00", "color": "teal1"},
        {"name": "13:30", "color": "teal2"},
        {"name": "14:00", "color": "green1"},
        {"name": "14:30", "color": "green2"},
        {"name": "15:00", "color": "green3"},
        {"name": "15:30", "color": "yellow1"},
        {"name": "16:00", "color": "yellow2"},
        {"name": "16:30", "color": "yellow3"},
        {"name": "17:00", "color": "orange1"},
        {"name": "17:30", "color": "orange2"},
        {"name": "18:00", "color": "red1"}
      ]
    },
    {
      "fieldName": "Location",
      "type": "singleSelect",
      "description": "ì˜ˆì•½ ì§€ì ",
      "required": false,
      "options": [
        {"name": "ì„œìš¸(Seoul)", "color": "blue"},
        {"name": "ìˆ˜ì›(Suwon)", "color": "green"}
      ]
    },
    {
      "fieldName": "Status",
      "type": "singleSelect",
      "description": "ì˜ˆì•½ ìƒíƒœ",
      "required": true,
      "default": "ì˜ˆì•½ëŒ€ê¸°",
      "options": [
        {"name": "ì˜ˆì•½ëŒ€ê¸°", "color": "yellow"},
        {"name": "ì˜ˆì•½í™•ì •", "color": "blue"},
        {"name": "ì‹ ì²­ì™„ë£Œ", "color": "purple"},
        {"name": "ì°¸ì—¬ì™„ë£Œ", "color": "green"},
        {"name": "ì·¨ì†Œ", "color": "red"},
        {"name": "ë…¸ì‡¼", "color": "gray"}
      ]
    },
    {
      "fieldName": "Participation_Result",
      "type": "singleSelect",
      "description": "ì°¸ì—¬ ê²°ê³¼",
      "required": false,
      "options": [
        {"name": "ì°¸ì—¬", "color": "green"},
        {"name": "ë¶ˆì°¸", "color": "red"},
        {"name": "ë¶ˆê°€", "color": "gray"},
        {"name": "ì¤‘ë³µ", "color": "orange"},
        {"name": "ê±°ë¶€", "color": "red"},
        {"name": "ë³€ê²½", "color": "blue"},
        {"name": "ë³´ë¥˜", "color": "yellow"}
      ]
    },
    {
      "fieldName": "Group",
      "type": "singleSelect",
      "description": "ê·¸ë£¹ êµ¬ë¶„",
      "required": false,
      "options": [
        {"name": "PANEL1", "color": "blue1"},
        {"name": "PANEL2", "color": "blue2"},
        {"name": "PANEL3", "color": "blue3"},
        {"name": "PANEL4", "color": "green1"},
        {"name": "PANEL5", "color": "green2"}
      ]
    },
    {
      "fieldName": "Priority",
      "type": "formula",
      "description": "ìš°ì„ ìˆœìœ„ ìë™ ê³„ì‚°",
      "formula": "IF(AND(Status = 'ì˜ˆì•½ëŒ€ê¸°', DATETIME_DIFF(TODAY(), Submission_Date, 'days') > 7), 'ğŸ”´ ë†’ìŒ', IF(AND(Status = 'ì˜ˆì•½ëŒ€ê¸°', DATETIME_DIFF(TODAY(), Submission_Date, 'days') > 3), 'ğŸŸ¡ ì¤‘ê°„', 'ğŸŸ¢ ë‚®ìŒ'))"
    },
    {
      "fieldName": "Days_Waiting",
      "type": "formula",
      "description": "ëŒ€ê¸° ì¼ìˆ˜",
      "formula": "IF(AND(Status = 'ì˜ˆì•½ëŒ€ê¸°', Submission_Date), DATETIME_DIFF(TODAY(), Submission_Date, 'days'), '')",
      "resultType": "number"
    },
    {
      "fieldName": "Submission_Date",
      "type": "dateTime",
      "description": "ì‹ ì²­ ì œì¶œ ì‹œê°„",
      "required": false,
      "dateFormat": {
        "format": "YYYY-MM-DD",
        "includeTime": true,
        "timeFormat": "24hour",
        "timeZone": "Asia/Seoul"
      }
    },
    {
      "fieldName": "Preferred_Dates",
      "type": "longText",
      "description": "í¬ë§ ë‚ ì§œ (ë³µìˆ˜)",
      "required": false,
      "enableRichText": false
    },
    {
      "fieldName": "Preferred_Time",
      "type": "singleLineText",
      "description": "í¬ë§ ì‹œê°„ëŒ€",
      "required": false
    },
    {
      "fieldName": "First_Response",
      "type": "singleLineText",
      "description": "ìµœì´ˆ ì‘ëŒ€ ë‹´ë‹¹ì",
      "required": false
    },
    {
      "fieldName": "Last_Contact",
      "type": "date",
      "description": "ë§ˆì§€ë§‰ ì—°ë½ ì¼ì",
      "required": false
    },
    {
      "fieldName": "Contact_Count",
      "type": "number",
      "description": "ì—°ë½ íšŸìˆ˜",
      "required": false,
      "default": 0,
      "validation": {
        "min": 0,
        "precision": 0
      }
    },
    {
      "fieldName": "Confirmation",
      "type": "singleSelect",
      "description": "í™•ì • ì—¬ë¶€",
      "required": false,
      "options": [
        {"name": "o", "color": "green"},
        {"name": "x", "color": "red"}
      ]
    },
    {
      "fieldName": "Visa_Status",
      "type": "singleLineText",
      "description": "ë¹„ì ìƒíƒœ",
      "required": false
    },
    {
      "fieldName": "Payment_Method",
      "type": "singleSelect",
      "description": "ìˆ˜ë ¹ ë°©ì‹",
      "required": false,
      "options": [
        {"name": "í˜„ê¸ˆ", "color": "green"},
        {"name": "ê³„ì¢Œì´ì²´", "color": "blue"},
        {"name": "ìƒí’ˆê¶Œ", "color": "purple"},
        {"name": "ê¸°íƒ€", "color": "gray"}
      ]
    },
    {
      "fieldName": "Contact_Method",
      "type": "multipleSelects",
      "description": "ì„ í˜¸ ì—°ë½ ë°©ë²•",
      "required": false,
      "options": [
        {"name": "ì „í™”", "color": "blue"},
        {"name": "ë¬¸ì", "color": "green"},
        {"name": "ì´ë©”ì¼", "color": "purple"},
        {"name": "ì¹´ì¹´ì˜¤í†¡", "color": "yellow"}
      ]
    },
    {
      "fieldName": "Contact_Info",
      "type": "singleLineText",
      "description": "ì¶”ê°€ ì—°ë½ì²˜ ì •ë³´",
      "required": false
    },
    {
      "fieldName": "Referral_Code",
      "type": "singleLineText",
      "description": "ì¶”ì²œì¸ ì½”ë“œ",
      "required": false
    },
    {
      "fieldName": "Notes",
      "type": "longText",
      "description": "ë¹„ê³ ",
      "required": false,
      "enableRichText": true
    },
    {
      "fieldName": "Additional_Notes",
      "type": "longText",
      "description": "ì²¨ì–¸",
      "required": false,
      "enableRichText": true
    },
    {
      "fieldName": "Tags",
      "type": "multipleSelects",
      "description": "íƒœê·¸",
      "required": false,
      "options": [
        {"name": "VIP", "color": "gold"},
        {"name": "ì¬ì°¸ì—¬", "color": "blue"},
        {"name": "ì‹ ê·œ", "color": "green"},
        {"name": "ì£¼ì˜", "color": "red"},
        {"name": "ìš°ì„ ì²˜ë¦¬", "color": "purple"}
      ]
    },
    {
      "fieldName": "Status_Emoji",
      "type": "formula",
      "description": "ìƒíƒœ ì´ëª¨ì§€",
      "formula": "SWITCH(Status, 'ì˜ˆì•½ëŒ€ê¸°', 'â³', 'ì˜ˆì•½í™•ì •', 'âœ…', 'ì‹ ì²­ì™„ë£Œ', 'ğŸ“', 'ì°¸ì—¬ì™„ë£Œ', 'ğŸ‰', 'ì·¨ì†Œ', 'âŒ', 'ë…¸ì‡¼', 'ğŸ‘»', 'â“')"
    },
    {
      "fieldName": "Days_Until",
      "type": "formula",
      "description": "ì˜ˆì•½ì¼ê¹Œì§€ ë‚¨ì€ ì¼ìˆ˜",
      "formula": "IF(AND(Reservation_Date, Status != 'ì·¨ì†Œ'), IF(DATETIME_DIFF(Reservation_Date, TODAY(), 'days') >= 0, DATETIME_DIFF(Reservation_Date, TODAY(), 'days') & 'ì¼ ë‚¨ìŒ', 'ì§€ë‚¨'), '')"
    },
    {
      "fieldName": "Created_Time",
      "type": "createdTime",
      "description": "ë ˆì½”ë“œ ìƒì„± ì‹œê°„",
      "required": true
    },
    {
      "fieldName": "Modified_Time",
      "type": "lastModifiedTime",
      "description": "ë§ˆì§€ë§‰ ìˆ˜ì • ì‹œê°„",
      "required": true,
      "includeAllFields": true
    },
    {
      "fieldName": "Modified_By",
      "type": "lastModifiedBy",
      "description": "ë§ˆì§€ë§‰ ìˆ˜ì •ì",
      "required": true
    },
    {
      "fieldName": "Created_By",
      "type": "createdBy",
      "description": "ë ˆì½”ë“œ ìƒì„±ì",
      "required": true
    },
    {
      "fieldName": "Sync_Status",
      "type": "singleSelect",
      "description": "ë™ê¸°í™” ìƒíƒœ",
      "required": false,
      "default": "synced",
      "options": [
        {"name": "synced", "color": "green"},
        {"name": "pending", "color": "yellow"},
        {"name": "error", "color": "red"}
      ]
    },
    {
      "fieldName": "Record_ID",
      "type": "formula",
      "description": "ì „ì²´ ë ˆì½”ë“œ ID",
      "formula": "CONCATENATE('MX-', YEAR(Created_Time), '-', RECORD_ID())"
    },
    {
      "fieldName": "Full_Info",
      "type": "formula",
      "description": "ì „ì²´ ì •ë³´ ìš”ì•½",
      "formula": "CONCATENATE(Name, ' | ', Email, ' | ', Phone, ' | ', Status_Emoji, ' ', Status, IF(Reservation_Date, CONCATENATE(' | ', DATETIME_FORMAT(Reservation_Date, 'YYYY-MM-DD'), ' ', Reservation_Time), ''))"
    }
  ],
  "views": [
    {
      "name": "All Records",
      "type": "grid",
      "description": "ì „ì²´ ë ˆì½”ë“œ",
      "fields": ["Name", "Email", "Phone", "Status", "Reservation_Date", "Reservation_Time", "Group"],
      "sort": [
        {"field": "Created_Time", "direction": "desc"}
      ]
    },
    {
      "name": "Today",
      "type": "grid",
      "description": "ì˜¤ëŠ˜ ì˜ˆì•½",
      "filter": "AND(Reservation_Date = TODAY(), Status != 'ì·¨ì†Œ')",
      "fields": ["Name", "Phone", "Reservation_Time", "Location", "Status"],
      "sort": [
        {"field": "Reservation_Time", "direction": "asc"}
      ]
    },
    {
      "name": "Pending",
      "type": "grid",
      "description": "ì˜ˆì•½ ëŒ€ê¸°",
      "filter": "Status = 'ì˜ˆì•½ëŒ€ê¸°'",
      "fields": ["Name", "Email", "Phone", "Days_Waiting", "Priority", "Preferred_Dates"],
      "sort": [
        {"field": "Days_Waiting", "direction": "desc"}
      ]
    },
    {
      "name": "Panel5",
      "type": "grid",
      "description": "Panel5 ê·¸ë£¹",
      "filter": "OR(Group = 'PANEL5', Group = BLANK())",
      "fields": ["Name", "Email", "Status", "Participation_Result", "Reservation_Date"],
      "sort": [
        {"field": "Status", "direction": "asc"},
        {"field": "Name", "direction": "asc"}
      ]
    },
    {
      "name": "This Week",
      "type": "calendar",
      "description": "ì´ë²ˆ ì£¼ ì˜ˆì•½",
      "dateField": "Reservation_Date",
      "fields": ["Name", "Phone", "Reservation_Time", "Location", "Status"]
    },
    {
      "name": "Kanban",
      "type": "kanban",
      "description": "ìƒíƒœë³„ ì¹¸ë°˜ ë³´ë“œ",
      "groupBy": "Status",
      "fields": ["Name", "Phone", "Reservation_Date", "Reservation_Time"],
      "coverField": "Status_Emoji"
    },
    {
      "name": "Statistics",
      "type": "grid",
      "description": "í†µê³„ ë·°",
      "summary": [
        {"field": "Status", "function": "countall"},
        {"field": "Group", "function": "countall"},
        {"field": "Location", "function": "countall"}
      ],
      "groupBy": "Status"
    }
  ],
  "automations": [
    {
      "name": "Auto Update Status",
      "trigger": "record_updated",
      "condition": "AND(Reservation_Date != BLANK(), Reservation_Time != BLANK(), Status = 'ì˜ˆì•½ëŒ€ê¸°')",
      "action": "update_record",
      "update": {"Status": "ì˜ˆì•½í™•ì •"}
    },
    {
      "name": "Priority Alert",
      "trigger": "time_based",
      "schedule": "daily_9am",
      "condition": "AND(Status = 'ì˜ˆì•½ëŒ€ê¸°', Days_Waiting > 7)",
      "action": "send_notification",
      "message": "7ì¼ ì´ìƒ ëŒ€ê¸° ì¤‘ì¸ ì˜ˆì•½ì´ ìˆìŠµë‹ˆë‹¤."
    }
  ],
  "permissions": {
    "creator": "full",
    "editor": ["create", "read", "update"],
    "viewer": ["read"]
  },
  "apiScopes": [
    "data.records:read",
    "data.records:write",
    "data.recordComments:read",
    "data.recordComments:write",
    "schema.bases:read",
    "webhook:manage"
  ]
}