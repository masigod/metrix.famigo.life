<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Airtable Base ID ì°¾ê¸°</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #667eea;
        }
        .step {
            margin: 20px 0;
            padding: 15px;
            background: #f8f9fa;
            border-left: 4px solid #667eea;
        }
        .code {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
        }
        .highlight {
            color: #66d9ef;
            font-weight: bold;
        }
        button {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 0;
        }
        button:hover {
            background: #5a67d8;
        }
        .result {
            margin-top: 20px;
            padding: 15px;
            border-radius: 5px;
            display: none;
        }
        .success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: monospace;
            font-size: 14px;
        }
        .image-guide {
            margin: 20px 0;
            padding: 20px;
            background: #fff3cd;
            border: 1px solid #ffc107;
            border-radius: 5px;
        }
        .api-test {
            margin-top: 30px;
            padding: 20px;
            background: #e3f2fd;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ” Airtable Base ID ì°¾ê¸°</h1>

        <div class="step">
            <h2>ë°©ë²• 1: URLì—ì„œ ì§ì ‘ í™•ì¸</h2>
            <ol>
                <li>Airtable.com ë¡œê·¸ì¸</li>
                <li>"Metrix Beauty" Base ì—´ê¸°</li>
                <li>ë¸Œë¼ìš°ì € ì£¼ì†Œì°½ í™•ì¸:</li>
            </ol>
            <div class="code">
                https://airtable.com/<span class="highlight">appABC123xyz456789</span>/tblYYYYYY/viwZZZZZ
            </div>
            <p>ğŸ‘‰ <span class="highlight">app</span>ë¡œ ì‹œì‘í•˜ëŠ” ë¶€ë¶„ì´ Base IDì…ë‹ˆë‹¤.</p>
        </div>

        <div class="step">
            <h2>ë°©ë²• 2: API ë¬¸ì„œì—ì„œ í™•ì¸</h2>
            <ol>
                <li><a href="https://airtable.com/api" target="_blank">https://airtable.com/api</a> ì ‘ì†</li>
                <li>"Metrix Beauty" Base í´ë¦­</li>
                <li>ë¬¸ì„œ ìƒë‹¨ì— í‘œì‹œë¨:</li>
            </ol>
            <div class="code">
                The ID of this base is <span class="highlight">appXXXXXXXXXXXX</span>
            </div>
        </div>

        <div class="api-test">
            <h2>ğŸ§ª Base ID í…ŒìŠ¤íŠ¸</h2>
            <p>Base IDë¥¼ ì…ë ¥í•˜ë©´ ìœ íš¨í•œì§€ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤:</p>
            <input type="text" id="baseIdInput" placeholder="appë¡œ ì‹œì‘í•˜ëŠ” Base ID ì…ë ¥">
            <button onclick="testBaseId()">Base ID í…ŒìŠ¤íŠ¸</button>
            <div id="result" class="result"></div>
        </div>

        <div class="step">
            <h2>ì„¤ì • íŒŒì¼ ì—…ë°ì´íŠ¸</h2>
            <p>Base IDë¥¼ ì°¾ìœ¼ë©´ ì•„ë˜ ê²½ë¡œì˜ íŒŒì¼ì„ ìˆ˜ì •í•˜ì„¸ìš”:</p>
            <div class="code">
                /Users/owlers_dylan/Metrix/airtable-config-local.js
                <br><br>
                baseId: '<span id="baseIdDisplay">YOUR_BASE_ID_HERE</span>',  // â† ì—¬ê¸°ì— ì…ë ¥
            </div>
            <button onclick="copyConfig()">ì„¤ì • ì½”ë“œ ë³µì‚¬</button>
        </div>

        <div class="image-guide">
            <h3>ğŸ’¡ ì˜ˆì‹œ</h3>
            <p><strong>ì˜¬ë°”ë¥¸ Base ID í˜•ì‹:</strong></p>
            <ul>
                <li>âœ… appABC123xyz456789</li>
                <li>âœ… app1234567890abcde</li>
                <li>âœ… appXxXxXxXxXxXxXx</li>
            </ul>
            <p><strong>ì˜ëª»ëœ í˜•ì‹:</strong></p>
            <ul>
                <li>âŒ Metrix Beauty (Base ì´ë¦„)</li>
                <li>âŒ metrix_beauty (í…Œì´ë¸” ì´ë¦„)</li>
                <li>âŒ tblXXXXXX (í…Œì´ë¸” ID)</li>
                <li>âŒ viwXXXXXX (ë·° ID)</li>
            </ul>
        </div>
    </div>

    <script>
        const API_KEY = 'YOUR_AIRTABLE_API_KEY'; // Replace with your actual API key
        const TABLE_NAME = 'metrix_beauty';

        async function testBaseId() {
            const baseId = document.getElementById('baseIdInput').value.trim();
            const resultDiv = document.getElementById('result');

            if (!baseId) {
                showResult('error', 'âŒ Base IDë¥¼ ì…ë ¥í•˜ì„¸ìš”.');
                return;
            }

            if (!baseId.startsWith('app')) {
                showResult('error', 'âŒ Base IDëŠ” "app"ìœ¼ë¡œ ì‹œì‘í•´ì•¼ í•©ë‹ˆë‹¤.');
                return;
            }

            if (baseId.length < 14 || baseId.length > 20) {
                showResult('error', 'âŒ Base ID ê¸¸ì´ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤. (ë³´í†µ 17ì)');
                return;
            }

            showResult('info', 'ğŸ”„ í…ŒìŠ¤íŠ¸ ì¤‘...');

            try {
                const url = `https://api.airtable.com/v0/${baseId}/${encodeURIComponent(TABLE_NAME)}?maxRecords=1`;

                const response = await fetch(url, {
                    headers: {
                        'Authorization': `Bearer ${API_KEY}`,
                        'Content-Type': 'application/json'
                    }
                });

                if (response.ok) {
                    const data = await response.json();
                    showResult('success',
                        `âœ… ìœ íš¨í•œ Base IDì…ë‹ˆë‹¤!<br>` +
                        `Base ID: <strong>${baseId}</strong><br>` +
                        `Table: ${TABLE_NAME}<br>` +
                        `ë ˆì½”ë“œ í™•ì¸: ${data.records ? 'ì„±ê³µ' : 'ì‹¤íŒ¨'}`
                    );

                    // Base ID í‘œì‹œ ì—…ë°ì´íŠ¸
                    document.getElementById('baseIdDisplay').textContent = baseId;
                    document.getElementById('baseIdDisplay').style.color = '#28a745';

                } else if (response.status === 404) {
                    showResult('error',
                        `âŒ Base ID ë˜ëŠ” í…Œì´ë¸”ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.<br>` +
                        `Base ID: ${baseId}<br>` +
                        `Table Name: ${TABLE_NAME}<br>` +
                        `Airtableì—ì„œ í…Œì´ë¸” ì´ë¦„ì„ í™•ì¸í•˜ì„¸ìš”.`
                    );
                } else if (response.status === 401) {
                    showResult('error', 'âŒ API Key ì¸ì¦ ì‹¤íŒ¨. í† í°ì„ í™•ì¸í•˜ì„¸ìš”.');
                } else {
                    showResult('error', `âŒ ì˜¤ë¥˜ ë°œìƒ: HTTP ${response.status}`);
                }

            } catch (error) {
                showResult('error', `âŒ ì—°ê²° ì‹¤íŒ¨: ${error.message}`);
            }
        }

        function showResult(type, message) {
            const resultDiv = document.getElementById('result');
            resultDiv.className = `result ${type === 'success' ? 'success' : 'error'}`;
            resultDiv.innerHTML = message;
            resultDiv.style.display = 'block';
        }

        function copyConfig() {
            const baseId = document.getElementById('baseIdDisplay').textContent;
            const configText = `baseId: '${baseId}',`;

            navigator.clipboard.writeText(configText).then(() => {
                alert('ì„¤ì • ì½”ë“œê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
            });
        }

        // Enter í‚¤ë¡œ í…ŒìŠ¤íŠ¸
        document.getElementById('baseIdInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                testBaseId();
            }
        });
    </script>
</body>
</html>